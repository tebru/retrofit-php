dist: xenial

os: linux

language: php

php:
  - 8.0
  - 8.1

env:
  - SYMFONY=5
  - SYMFONY=6

# remove composer.lock (it should not be published)
before_script:
  - composer install --no-interaction -o
  - if [ "$SYMFONY" = "5" ]; then composer update --with=symfony/cache:^5.4 --with=symfony/console:^5.4; fi;
  - if [ "$SYMFONY" = "6" ]; then composer update --with=symfony/cache:^6.0 --with=symfony/console:^6.0; fi;

script:
  - mkdir -p build/logs
  - vendor/bin/phpunit
